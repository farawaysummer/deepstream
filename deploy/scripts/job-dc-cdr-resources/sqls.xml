<?xml version="1.0" encoding="UTF-8"?>
<sqls>
    <sql name="selectDC">
        <![CDATA[
select
A.ORG_CODE	AS	ORG_CODE	,--	医疗机构代码
case when length(a.HOSP_ID)='8' then '00'||''||a.CLINIC_ID  else substr(a.HOSP_ID,-2)||''||a.CLINIC_ID  end AS	CLINIC_ID	,--	接诊编号
A.NO	AS	NO	,--	文书序号
A.DEPT_CODE	AS	DEPT_CODE	,--	科室编号
case when length(a.HOSP_ID)='8' then 'G'||''||'00'||''||a.CLINIC_ID  else 'G'||''||substr(a.HOSP_ID,-2)||''||a.CLINIC_ID	end AS	REGISTER_ID	,--	门诊号
(SELECT  F.EMPID  FROM "d03.00.00.00"   F    WHERE SUBSTR (A.ORG_CODE,1,8) =F.HOSP_ID  AND  F.DOCT_CODE=A.EMP_ID
AND F.SOURCE_SYS='DEFAULT') 	AS	EMP_ID	,--	医生编号
A.PAT_NO	AS	PAT_NO	,--	病历号
A.NAME	AS	NAME	,--	患者姓名
A.SEX	AS	SEX	,--	性别
replace(A.BIRTHDAY,'-','') as 	BIRTHDAY	,--	出生日期
A.AGE	AS	AGE	,--	年龄（岁）
A.AGE2	AS	AGE2	,--	年龄（月）
A.CF_TYPE	AS	CF_TYPE	,--	证件类型
A.IDCARD	AS	IDCARD	,--	证件号码
A.CLINIC_TIME	AS	CLINIC_TIME	,--	就诊日期
A.IF_FIRSTVISIT	AS	IF_FIRSTVISIT	,--	初诊标志
A.ALLERGIC_HISTORY	AS	ALLERGIC_HISTORY	,--	过敏史
A.CHIEF_COMPLAINT	AS	CHIEF_COMPLAINT	,--	病人主诉
A.HPC	AS	HPC	,--	现病史
A.PMH	AS	PMH	,--	既往史
A.PHYSIQUE	AS	PHYSIQUE	,--	体格检查
A.CLINIC_DISPOSE	AS	CLINIC_DISPOSE	,--	处理
A.CREATE_TIME	AS	CREATE_TIME	,--	书写时间
A.AUTO_ID	AS	AUTO_ID	,--
A.CARDID	AS	CARDID	,--	就诊卡号
A.PERSONID	AS	PERSONID	,--	内部号
case when length(A.CARDNUM)>20 then ' ' else A.CARDNUM  end AS	CARDNUM	,--	保险号码
A.DIAGNOSE_NAME	AS	DIAGNOSE_NAME	,--	诊断
A.DIAGNOSE_MEASUR	AS	DIAGNOSE_MEASUR	,--	诊断措施
A.KTDOC_REMARK	AS	KTDOC_REMARK	,--	备注
A.HIS_EPIDEMIC	AS	HIS_EPIDEMIC	,--
A.HIS_DISEASE_INC	AS	HIS_DISEASE_INC	,--
A.HIS_PRE_INOCULATION	AS	HIS_PRE_INOCULATION	,--
A.HIS_OPERATION	AS	HIS_OPERATION	,--
A.HIS_BIRTH	AS	HIS_BIRTH	,--
A.HIS_GROWN	AS	HIS_GROWN	,--
A.HIS_FEED	AS	HIS_FEED	,--
A.HIS_METACHYSIS	AS	HIS_METACHYSIS	,--
A.HIS_PERSONAL	AS	HIS_PERSONAL	,--
A.HIS_MARRY_CHILD	AS	HIS_MARRY_CHILD	,--
A.HIS_MENSES	AS	HIS_MENSES	,--
A.HIS_FAMILY	AS	HIS_FAMILY	,--
A.PULSE_RATE	AS	PULSE_RATE	,--
A.SPB	AS	SPB	,--
A.DPB	AS	DPB	,--
A.HEIGHT	AS	HEIGHT	,--
A.WEIGHT	AS	WEIGHT	,--
A.GESTATIONAL_AGE	AS	GESTATIONAL_AGE	,--
CASE WHEN LENGTH(A.ASSISTANT_EXAMINATION) >200 THEN NULL ELSE A.ASSISTANT_EXAMINATION END AS	ASSISTANT_EXAMINATION	,--
A.PAIN_GRADE	AS	PAIN_GRADE	,--
A.EVALUATION_ALL	AS	EVALUATION_ALL	,--
A.WEST_DIAG_INHOS_DES	AS	WEST_DIAG_INHOS_DES	,--
A.WZWS	AS	WZWS	,--
A.WZWMS	AS	WZWMS	,--
A.WZWXT	AS	WZWXT	,--
A.WZWTLWGJQ	AS	WZWTLWGJQ	,--
A.WZWPF	AS	WZWPF	,--
A.WZWLM	AS	WZWLM	,--
A.WZWPXWYFMW	AS	WZWPXWYFMW	,--
REPLACE(A.WZSDM,'无','')	AS	WZSDM	,--
A.WZS	AS	WZS	,--
A.WZTDM	AS	WZTDM	,--
A.WZT	AS	WZT	,--
A.WZQT1	AS	WZQT1	,--
A.WZTSY	AS	WZTSY	,--
A.WZXQW	AS	WZXQW	,--
A.WZQT2	AS	WZQT2	,--
A.WZHR	AS	WZHR	,--
A.WZCH	AS	WZCH	,--
A.WZTS	AS	WZTS	,--
A.WZXXWF	AS	WZXXWF	,--
A.WZEM	AS	WZEM	,--
A.WZYSYKWDM	AS	WZYSYKWDM	,--
A.WZYSYKW	AS	WZYSYKW	,--
A.WZSMDM	AS	WZSMDM	,--
A.WZSM	AS	WZSM	,--
A.WZDBDM	AS	WZDBDM	,--
A.WZDB	AS	WZDB	,--
A.WZXB	AS	WZXB	,--
A.WZFN	AS	WZFN	,--
A.WZXE	AS	WZXE	,--
A.WZQT3	AS	WZQT3	,--
A.QZMZDM	AS	QZMZDM	,--
A.QZMZ	AS	QZMZ	,--
A.QZAZ	AS	QZAZ	,--
A.QZQT	AS	QZQT	,--
A.TCM_DIEASE_CODE	AS	TCM_DIEASE_CODE	,--
A.TCM_DIEASE_NAME	AS	TCM_DIEASE_NAME	,--
A.TCM_SYNDROME_CODE	AS	TCM_SYNDROME_CODE	,--
A.TCM_SYNDROME_NAME	AS	TCM_SYNDROME_NAME	,--
A.THERAPEUTIC_METHOD_CODE	AS	THERAPEUTIC_METHOD_CODE	,--
A.THERAPEUTIC_METHOD	AS	THERAPEUTIC_METHOD	,
A.CASE_TYPE AS CASE_TYPE

from NB_E12010000_CDC A
WHERE A.HOSP_ID IN( '73427532','41955956','41956106','MB0W2139','41955939','41955938') AND
A.AUTO_ID = ?
        ]]>
    </sql>
    <sql name="insert">
        <![CDATA[
insert into NB_E12010000 (AUTO_ID, ORG_CODE, CLINIC_ID, `NO`, DEPT_CODE, REGISTER_ID, CARDID, EMP_ID, PAT_NO, PERSONID, `NAME`,
                          SEX,
                          BIRTHDAY, AGE, AGE2, CF_TYPE, IDCARD, CARDNUM, CLINIC_TIME, IF_FIRSTVISIT, ALLERGIC_HISTORY,
                          CHIEF_COMPLAINT, HPC, PMH, PHYSIQUE, CLINIC_DISPOSE, DIAGNOSE_NAME, DIAGNOSE_MEASUR,
                          KTDOC_REMARK, CREATE_TIME, HIS_EPIDEMIC, HIS_DISEASE_INC, HIS_PRE_INOCULATION, HIS_OPERATION,
                          HIS_BIRTH, HIS_GROWN, HIS_FEED, HIS_METACHYSIS, HIS_PERSONAL, HIS_MARRY_CHILD, HIS_MENSES,
                          HIS_FAMILY, PULSE_RATE, SPB, DPB, HEIGHT, WEIGHT, GESTATIONAL_AGE, ASSISTANT_EXAMINATION,
                          PAIN_GRADE, EVALUATION_ALL, WEST_DIAG_INHOS_DES, WZWS, WZWMS, WZWXT, WZWTLWGJQ, WZWPF, WZWLM,
                          WZWPXWYFMW, WZSDM, WZS, WZTDM, WZT, WZQT1, WZTSY, WZXQW, WZQT2, WZHR, WZCH, WZTS, WZXXWF,
                          WZEM, WZYSYKWDM, WZYSYKW, WZSMDM, WZSM, WZDBDM, WZDB, WZXB, WZFN, WZXE, WZQT3, QZMZDM, QZMZ,
                          QZAZ, QZQT, TCM_DIEASE_CODE, TCM_DIEASE_NAME, TCM_SYNDROME_CODE, TCM_SYNDROME_NAME,
                          THERAPEUTIC_METHOD_CODE, THERAPEUTIC_METHOD, CASE_TYPE)
select AUTO_ID,
        ORG_CODE,
       CLINIC_ID,
       `NO`,
       DEPT_CODE,
       REGISTER_ID,
       CARDID,
       EMP_ID,
       PAT_NO,
       PERSONID,
       `NAME`,
       SEX,
        SUBSTRING(`BIRTHDAY` FROM 0 FOR 8),
       AGE,
       AGE2,
       CF_TYPE,
       IDCARD,
       CARDNUM,
SUBSTRING(`CLINIC_TIME` FROM 0 FOR 19),
       IF_FIRSTVISIT,
       ALLERGIC_HISTORY,
       CHIEF_COMPLAINT,
       HPC,
       PMH,
       PHYSIQUE,
       CLINIC_DISPOSE,
       DIAGNOSE_NAME,
       DIAGNOSE_MEASUR,
       KTDOC_REMARK,
SUBSTRING(`CREATE_TIME` FROM 0 FOR 19),
       HIS_EPIDEMIC,
       HIS_DISEASE_INC,
       HIS_PRE_INOCULATION,
       HIS_OPERATION,
       HIS_BIRTH,
       HIS_GROWN,
       HIS_FEED,
       HIS_METACHYSIS,
       HIS_PERSONAL,
       HIS_MARRY_CHILD,
       HIS_MENSES,
       HIS_FAMILY,
       PULSE_RATE,
       SPB,
       DPB,
       HEIGHT,
       WEIGHT,
       GESTATIONAL_AGE,
       ASSISTANT_EXAMINATION,
       PAIN_GRADE,
       EVALUATION_ALL,
       WEST_DIAG_INHOS_DES,
       WZWS,
       WZWMS,
       WZWXT,
       WZWTLWGJQ,
       WZWPF,
       WZWLM,
       WZWPXWYFMW,
       WZSDM,
       WZS,
       WZTDM,
       WZT,
       WZQT1,
       WZTSY,
       WZXQW,
       WZQT2,
       WZHR,
       WZCH,
       WZTS,
       WZXXWF,
       WZEM,
       WZYSYKWDM,
       WZYSYKW,
       WZSMDM,
       WZSM,
       WZDBDM,
       WZDB,
       WZXB,
       WZFN,
       WZXE,
       WZQT3,
       QZMZDM,
       QZMZ,
       QZAZ,
       QZQT,
       TCM_DIEASE_CODE,
       TCM_DIEASE_NAME,
       TCM_SYNDROME_CODE,
       TCM_SYNDROME_NAME,
       THERAPEUTIC_METHOD_CODE,
       THERAPEUTIC_METHOD,
       CASE_TYPE
FROM DTable
        ]]>
    </sql>
</sqls>
